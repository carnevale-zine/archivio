<div id="entry-list">

<div class="row" style="margin-bottom:10px;">
		<input type="text" class="search form-control" placeholder="Search" />
</div>

<div class="row">
<table class="table table-striped">
	<thead>
		<tr>
			<th style="width:15%;"><span class="sort" data-sort="titolo">Titolo</span></th>
			<th style="width:15%;"><span class="sort" data-sort="autore">Autore</span></th>
			<th style="width:25%;"><span class="sort" data-sort="descrizione">Descrizione</span></th>
			<th style="width:5%;"><span class="sort" data-sort="link">Post</span></th>
			<th style="width:5%;"><span class="sort" data-sort="mirror">Mirror</span></th>
			<th style="width:5%;"><span class="sort" data-sort="tema">Tema</span></th>
			<th style="width:5%;"><span class="sort" data-sort="mese">Mese</span></th>
			<th style="width:5%;"><span class="sort" data-sort="zine-n"># Zine</span></th>
			<th style="width:10%;"><span class="sort" data-sort="licenza">Licenza</span></th>
			<th style="width:10%;"><span class="sort" data-sort="categoria">Categoria</span></th>
		</tr>
	</thead>
	<tbody class="list">
	{% assign sortedPosts = site.posts | sort: 'title' %}
	{% for post in sortedPosts %}
		<tr>
			<td class="titolo">{{ post.titolo | join: ", " }}
			   <!-- <a href="{{ site.baseurl }}{{ post.url }}"> -->
					<!-- {% if post.display-title %} -->
						<!-- {{ post.display-title }} -->
					<!-- {% else %} -->
				  <!-- {% assign words = post.slug | replace: '-', ' ' | split: ' ' %} -->
				  <!-- {% capture titlecase %}{% for word in words %}{{ word | capitalize }} {% endfor %}{% endcapture %} -->
				  <!-- {{ titlecase }} -->
					<!-- {% endif %} -->
			   <!-- </a> -->
			</td>
			<td class="autore">{{ post.autore | join: ", " }}</td>
			<td class="descrizione">{{ post.descrizione | truncate: 200 }}</td>
			<td class="link">
				{% if post.link %}
					<a href="{{ post.link }}" target="_blank">
						<button type="button" class="btn btn-primary">
							Vai <i class="fa fa-external-link"></i>
						</button>
					</a>
				{% endif %}
			</td>
			<td class="mirror">
			  {% if post.mirror %}
					<a href="{{ post.mirror }}" target="_blank">
					  <button type="button" class="btn btn-primary">
								Vai <i class="fa fa-external-link"></i>
					  </button>
					</a>
				{% endif %}
			</td>
			<td class="tema">{{ post.tema | join: ", " }}</td>
			<td class="mese">{{ post.mese | join: ", " }}</td>
			<td class="zine-n">{{ post.zine-n | join: ", " }}</td>
			<td class="licenza">{{ post.licenza | join: ", " }}
				<!-- <a href="{{ site.baseurl }}/{{post.licenza}}.html">{{ post.licenza }}</a> -->
			</td>
			<td class="categoria">{{ post.categoria | join: ", " }}
				<!-- {% for cat in post.categories %} -->
					<!-- <a href="{{ site.baseurl }}/{{ cat | replace: ' ', '-' }}.html">{{ cat }}</a> -->
					<!-- {% if forloop.last == false %}, {% endif %} -->
				<!-- {% endfor %} -->
			</td>
		</tr>
	{% endfor %}
	</tbody>
</table>
</div>

</div>

<script type="text/javascript">
var options = {
  valueNames: ['titolo','autore','descrizione', 'link', 'mirror', 'tema', 'mese', 'zine-n', 'licenza', 'categoria']
};
var entryList = new List('entry-list', options);

var hash = window.location.hash;
var searchInput = document.querySelector('input.search');
if(hash.length > 1) {
  searchInput.value = hash.substr(1);
  if ("createEvent" in document) {
    var evt = document.createEvent("HTMLEvents");
    evt.initEvent("keyup", false, true);
    searchInput.dispatchEvent(evt);
  }
  else {
    searchInput.fireEvent("onkeyup");
  }
}
searchInput.addEventListener('keyup', function () {
  window.location.hash = this.value;
});

</script>
